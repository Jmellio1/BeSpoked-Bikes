@page "/"
@using BeSpoked_Bikes.Models
@using BeSpoked_Bikes.Data
@inject IProductsContoller _controller
<style>
.dropbtn {
  background-color: #04AA6D;
  color: white;
  padding: 16px;
  font-size: 16px;
  border: none;
  cursor: pointer;
}

.dropbtn:hover, .dropbtn:focus {
  background-color: #3e8e41;
}

#myInput {
  box-sizing: border-box;
  background-image: url('searchicon.png');
  background-position: 14px 12px;
  background-repeat: no-repeat;
  font-size: 16px;
  padding: 14px 20px 12px 45px;
  border: none;
  border-bottom: 1px solid #ddd;
}

#myInput:focus {outline: 3px solid #ddd;}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f6f6f6;
  min-width: 230px;
  overflow: auto;
  border: 1px solid #ddd;
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

.dropdown a:hover {background-color: #ddd;}

.show {display: block;}
</style>
<div class="dropdown">
  <button onclick="myFunction()" class="dropbtn">Dropdown</button>

  </div>

<h2> Select or add customer</h2>
@if(products is null)
{
      <p><em>Loading...</em></p>
}
else
{
    <table class=" table table-striped">
           <thead>
               <tr>
                   <th>Bike name </th>
                    <th>Manufacturer </th>
                     <th>purchase Price </th>
                      <th>Sale Price </th>
                      <th>inventory</th>
                      <th>commission</th>
                      <th>Selling?</th>
                      <th>Edit</th>
               </tr>
           </thead>
           <tbody>
            @foreach(var item in products)
            {
                
                 <tr>
                     <td>@item.Name</td>
                      <td>@item.Manufacturer</td>        
                        <td>@item.purchasePrice</td>
                         <td>@item.SalePrice</td>
                         <td>@item.inventory</td>
                         <td>@item.commission</td>
                         <td><input type="checkbox" value="@item.Id"></td>
                         <td><button @onclick="()=>edit(item.Id)">Edit</button></td>
                 </tr>
                
            }
        </tbody>
           </table>
}
@code {
    private Product product = new Product();
    private List<Customer> customers;
    private List<Product> products;
    protected override async Task OnInitializedAsync()
    {
        products = await _controller.List();
        
    }
    private void edit(int id)
    {
        Console.Out.WriteLine(id);
        // return edit page
    }
}
